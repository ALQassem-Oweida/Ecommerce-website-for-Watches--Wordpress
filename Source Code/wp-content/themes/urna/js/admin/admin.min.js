"use strict";!function(e){function t(){this.init()}t.prototype={init:function(){var e=this;e.productSizeGuide(),e.Checkbox(),e.Datepicker()},productSizeGuide:function(){var t,i=e("#product_size_guide_image"),a=e("#product_size_guide_images_container").find("ul.product_size_guide_images");e(".add_product_size_guide_images").on("click","a",function(o){var r=e(this);if(o.preventDefault(),t)return void t.open();(t=wp.media.frames.product_gallery=wp.media({title:r.data("choose"),button:{text:r.data("update")},states:[new wp.media.controller.Library({title:r.data("choose"),filterable:"all",multiple:!1})]})).on("select",function(){var e=t.state().get("selection"),o=i.val();e.map(function(e){if((e=e.toJSON()).id){o=o?o+","+e.id:e.id;var t=e.sizes&&e.sizes.thumbnail?e.sizes.thumbnail.url:e.url;a.find("li.image").remove(),a.append('<li class="image" data-attachment_id="'+e.id+'"><img src="'+t+'" /><ul class="actions"><li><a href="#" class="delete" title="'+r.data("delete")+'">'+r.data("text")+"</a></li></ul></li>")}}),i.val(o)}),t.open()}),void 0!==a.sortable&&a.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"wc-metabox-sortable-placeholder",start:function(e,t){t.item.css("background-color","#f6f6f6")},stop:function(e,t){t.item.removeAttr("style")},update:function(){var t="";e("#product_size_guide_images_container").find("ul li.image").css("cursor","default").each(function(){var i=e(this).attr("data-attachment_id");t=t+i+","}),i.val(t)}}),e("#product_size_guide_images_container").on("click","a.delete",function(){e(this).closest("li.image").remove();var t="";return e("#product_size_guide_images_container").find("ul li.image").css("cursor","default").each(function(){var i=e(this).attr("data-attachment_id");t=t+i+","}),i.val(t),e("#tiptip_holder").removeAttr("style"),e("#tiptip_arrow").removeAttr("style"),!1})},Checkbox:function(){e("body").on("click",".tbay-checkbox",function(){jQuery("."+this.id).toggle()}),e(".tbay-wpcolorpicker").each(function(){e(this).wpColorPicker()})},Datepicker:function(){let t=e(".tbay-datepicker_field");0!=t.length&&t.datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1})}},e.UrnaAdminModule=t.prototype,e(document).ready(function(){new t})}(jQuery);
